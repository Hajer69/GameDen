<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Have fun with GameDen, Play interactive online games! Challenge yourself with Sudoku, Rock Paper Scissors, and many more games.">
    <title>All Games - GameDen</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz4YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <!-- Custom theme colors -->
    <style>
        :root {
            --primary-blue: #203079;
            --primary-purple: #7C4DFF;
            --accent-orange: #FFB300;
        }
        .bg-primary-custom {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%) !important;
        }
        .btn-primary-custom {
            background-color: var(--accent-orange) !important;
            border-color: var(--accent-orange) !important;
            color: white !important;
        }
        .btn-purple {
            background-color: var(--primary-purple) !important;
            border-color: var(--primary-purple) !important;
            color: white !important;
        }
        .text-primary-custom {
            color: var(--primary-blue) !important;
        }
        .table-image {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 6px;
        }
        .table th {
            background: var(--primary-blue);
            color: white;
            padding: 1rem;
            text-align: left;
        }
        .btn {
            background: var(--primary-purple);
            color: white;
            border: none;
        }
        .btn:hover {
            background: #6b3ccc;
            color: white;
        }
        .btn-success {
            background: var(--accent-orange) !important;
            border-color: var(--accent-orange) !important;
        }
        .btn-success:hover {
            background: #e6a100 !important;
            border-color: #e6a100 !important;
        }
        .btn-info {
            background: var(--primary-blue) !important;
            border-color: var(--primary-blue) !important;
        }
        .btn-info:hover {
            background: #1a2966 !important;
            border-color: #1a2966 !important;
        }
        .btn-warning {
            background: var(--accent-orange) !important;
            border-color: var(--accent-orange) !important;
            color: white !important;
        }
        .btn-warning:hover {
            background: #e6a100 !important;
            border-color: #e6a100 !important;
            color: white !important;
        }
        #logo-icon {
           width: 40px; 
           height: 40px;
        }
        .card-header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%) !important;
            color: white;
        }
        .badge.bg-primary {
            background-color: var(--primary-purple) !important;
        }
        .badge.bg-success {
            background-color: var(--accent-orange) !important;
        }
        .search-highlight {
            background-color: #fff3cd;
            font-weight: bold;
        }
        .form-control:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 0.2rem rgba(124, 77, 255, 0.25);
        }
        .form-select:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 0.2rem rgba(124, 77, 255, 0.25);
        }
    </style>
</head>
<body>
    <!-- Bootstrap Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center fw-bold text-primary-custom" href="index.html">
                <img id="logo-icon" src="images/logo.png" alt="GameDen Logo" class="me-2">
                GameDen
            </a>
            
            <div class="navbar navbar-expand-sm" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="games.html">Games</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-purple text-white ms-2" href="login.html">Sign In</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Games Content -->
    <section class="py-5 mt-5">
        <div class="container">
            <!-- Header -->
            <div class="row mb-4">
                <div class="col-12">
                    <h1 class="display-4 fw-bold text-primary-custom text-center">All Games Collection</h1>
                    <p class="text-center text-muted">Dynamic content loaded using JavaScript arrays and functions</p>
                </div>
            </div>

            <!-- Add New Game Form -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header">
                    <h5 class="mb-0">‚ûï Add New Game</h5>
                </div>
                <div class="card-body">
                    <form id="addGameForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="newGameName" class="form-label">Game Name</label>
                                <input type="text" class="form-control" id="newGameName" placeholder="Enter game name" required>
                            </div>
                            <div class="col-md-3">
                                <label for="newGameCategory" class="form-label">Category</label>
                                <select class="form-select" id="newGameCategory" required>
                                    <option value="">Select Category</option>
                                    <option value="Strategy">Strategy</option>
                                    <option value="Puzzle">Puzzle</option>
                                    <option value="Knowledge">Knowledge</option>
                                    <option value="Action">Action</option>
                                    <option value="Adventure">Adventure</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="newGameDifficulty" class="form-label">Difficulty</label>
                                <select class="form-select" id="newGameDifficulty" required>
                                    <option value="">Select Difficulty</option>
                                    <option value="Easy">Easy</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Hard">Hard</option>
                                    <option value="Various">Various</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label for="newGamePlayers" class="form-label">Players</label>
                                <input type="text" class="form-control" id="newGamePlayers" placeholder="e.g., 1-2 Players" required>
                            </div>
                            <div class="col-md-4">
                                <label for="newGameRating" class="form-label">Rating (1-5)</label>
                                <input type="number" class="form-control" id="newGameRating" min="1" max="5" step="0.1" placeholder="4.5" required>
                            </div>
                            <div class="col-md-4">
                                <label for="newGameImage" class="form-label">Image Path</label>
                                <input type="text" class="form-control" id="newGameImage" placeholder="images/game.jpg" value="images/default-game.jpg">
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-success me-2">Add Game</button>
                                <button type="reset" class="btn btn-secondary">Clear Form</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Search Games -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header">
                    <h5 class="mb-0">üîç Search Games</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-8">
                            <input type="text" class="form-control" id="gameSearchInput" placeholder="Search by game name, category, or difficulty...">
                        </div>
                        <div class="col-md-4">
                            <button onclick="searchGames()" class="btn btn-info me-2">Search</button>
                            <button onclick="clearSearch()" class="btn btn-secondary">Clear</button>
                        </div>
                    </div>
                    <div id="searchResults" class="mt-3"></div>
                </div>
            </div>

            <!-- Games Table -->
            <div class="card shadow-sm border-0 mb-5">
                <div class="card-header">
                    <h5 class="mb-0">üéÆ Games Library</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Game Image</th>
                                    <th>Game Name</th>
                                    <th>Category</th>
                                    <th>Difficulty</th>
                                    <th>Players</th>
                                    <th>Rating</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="gamesTableBody">
                                <!-- Content will be loaded dynamically by displayGamesTable() -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Add New Category Form -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header">
                    <h5 class="mb-0">‚ûï Add New Category</h5>
                </div>
                <div class="card-body">
                    <form id="addCategoryForm">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label for="newCategoryName" class="form-label">Category Name</label>
                                <input type="text" class="form-control" id="newCategoryName" placeholder="e.g., Action Games" required>
                            </div>
                            <div class="col-md-2">
                                <label for="newCategoryCount" class="form-label">Game Count</label>
                                <input type="number" class="form-control" id="newCategoryCount" min="0" placeholder="0" required>
                            </div>
                            <div class="col-md-4">
                                <label for="newCategoryDescription" class="form-label">Description</label>
                                <input type="text" class="form-control" id="newCategoryDescription" placeholder="Category description" required>
                            </div>
                            <div class="col-md-3">
                                <label for="newCategorySkills" class="form-label">Skills Developed</label>
                                <input type="text" class="form-control" id="newCategorySkills" placeholder="e.g., Quick Thinking" required>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-success me-2">Add Category</button>
                                <button type="reset" class="btn btn-secondary">Clear Form</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Search Categories -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header">
                    <h5 class="mb-0">üîç Search Categories</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-8">
                            <input type="text" class="form-control" id="categorySearchInput" placeholder="Search by category name or skills...">
                        </div>
                        <div class="col-md-4">
                            <button onclick="searchCategories()" class="btn btn-warning me-2">Search</button>
                            <button onclick="clearCategorySearch()" class="btn btn-secondary">Clear</button>
                        </div>
                    </div>
                    <div id="categorySearchResults" class="mt-3"></div>
                </div>
            </div>

            <!-- Game Categories Table -->
            <div class="card shadow-sm border-0">
                <div class="card-header">
                    <h5 class="mb-0">üìÇ Game Categories</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Number of Games</th>
                                    <th>Description</th>
                                    <th>Skills Developed</th>
                                </tr>
                            </thead>
                            <tbody id="categoriesTableBody">
                                <!-- Content will be loaded dynamically by displayCategoriesTable() -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container text-center">
            <p class="mb-0">&copy; 2025 GameDen. All rights reserved.</p>
        </div>
    </footer>


    <script>
// =============================================
// PART 2: DYNAMIC CONTENT - FIXED VERSION
// =============================================

// ===========================================
// 1. TWO OBJECT TYPES 
// ===========================================
function Game(name, category, difficulty, players, rating, image) {
    this.name = name;
    this.category = category;
    this.difficulty = difficulty;
    this.players = players;
    this.rating = rating;
    this.image = image;
}

function GameCategory(category, gameCount, description, skills) {
    this.category = category;
    this.gameCount = gameCount;
    this.description = description;
    this.skills = skills;
}

// ===========================================
// 2. ARRAYS WITH ACTUAL DATA 
// ===========================================
let games = [
    new Game("Rock Paper Scissors", "Strategy", "Easy", "1-2 Players", 4.5, "images/rps.jpg"),
    new Game("Sudoku Challenge", "Puzzle", "Medium", "1 Player", 4.7, "images/sudoku.jpg"),
    new Game("Tic Tac Toe", "Strategy", "Easy", "2 Players", 4.3, "images/tictactoe.jpg"),
    new Game("Brain Quiz", "Knowledge", "Various", "1 Player", 4.8, "images/quiz.jpg")
];

let gameCategories = [
    new GameCategory("Strategy Games", 2, "Games that require planning", "Decision Making"),
    new GameCategory("Puzzle Games", 1, "Games that challenge thinking", "Problem Solving"),
    new GameCategory("Knowledge Games", 1, "Games that test knowledge", "Learning")
];

// ===========================================
// 3. FIRST FUNCTION - Display Games Table 
// ===========================================
function displayGamesTable() {
    const tableBody = document.getElementById('gamesTableBody');
    
    if (!tableBody) {
        console.error('Games table body not found!');
        return;
    }
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Check if array is empty
    if (games.length === 0) {
        tableBody.innerHTML = '<tr><td colspan="7" class="text-center text-muted py-4">No games available. Add a game to get started!</td></tr>';
        return;
    }
    
    // Loop through games array and create table rows
    games.forEach((game, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td><img src="${game.image}" alt="${game.name}" class="table-image" onerror="this.src='images/default-game.jpg'"></td>
            <td><strong>${game.name}</strong></td>
            <td><span class="badge bg-primary">${game.category}</span></td>
            <td><span class="badge bg-info">${game.difficulty}</span></td>
            <td>${game.players}</td>
            <td>‚≠ê ${game.rating}/5</td>
            <td>
                <button class="btn btn-sm" onclick="playGame('${game.name}')">Play</button>
            </td>
        `;
        tableBody.appendChild(row);
    });
    
    console.log(`‚úÖ Displayed ${games.length} games`);
}

// ===========================================
// 4. SECOND FUNCTION - Display Categories Table 
// ===========================================
function displayCategoriesTable() {
    const tableBody = document.getElementById('categoriesTableBody');
    
    if (!tableBody) {
        console.error('Categories table body not found!');
        return;
    }
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Check if array is empty
    if (gameCategories.length === 0) {
        tableBody.innerHTML = '<tr><td colspan="4" class="text-center text-muted py-4">No categories available.</td></tr>';
        return;
    }
    
    // Loop through gameCategories array and create table rows
    gameCategories.forEach(category => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td><strong>${category.category}</strong></td>
            <td><span class="badge bg-success">${category.gameCount}</span></td>
            <td>${category.description}</td>
            <td><span class="badge bg-warning text-dark">${category.skills}</span></td>
        `;
        tableBody.appendChild(row);
    });
    
    console.log(`‚úÖ Displayed ${gameCategories.length} categories`);
}

// ===========================================
// 5. ADD NEW GAME 
// ===========================================
function addNewGame(event) {
    event.preventDefault(); // Prevent form submission
    
    // Get all form values
    const name = document.getElementById('newGameName').value.trim();
    const category = document.getElementById('newGameCategory').value;
    const difficulty = document.getElementById('newGameDifficulty').value;
    const players = document.getElementById('newGamePlayers').value.trim();
    const rating = parseFloat(document.getElementById('newGameRating').value);
    const image = document.getElementById('newGameImage').value.trim();
    
    // Validation
    if (!name || !category || !difficulty || !players || !rating) {
        alert('‚ö†Ô∏è Please fill in all required fields!');
        return;
    }
    
    if (rating < 1 || rating > 5) {
        alert('‚ö†Ô∏è Rating must be between 1 and 5!');
        return;
    }
    
    // Create new Game object
    const newGame = new Game(name, category, difficulty, players, rating, image || "images/default-game.jpg");
    
    // Add to games array
    games.push(newGame);
    
    // Update category count
    updateCategoryCount(category);
    
    // Refresh both tables
    displayGamesTable();
    displayCategoriesTable();
    
    // Reset form
    document.getElementById('addGameForm').reset();
    
    // Show success message
    showAlert(`‚úÖ Game "${name}" added successfully!`, 'success');
    
    console.log(`‚úÖ Added new game: ${name}`);
}

// ===========================================
// 6. ADD NEW CATEGORY 
// ===========================================
function addNewCategory(event) {
    event.preventDefault(); // Prevent form submission
    
    // Get form values
    const categoryName = document.getElementById('newCategoryName').value.trim();
    const gameCount = parseInt(document.getElementById('newCategoryCount').value);
    const description = document.getElementById('newCategoryDescription').value.trim();
    const skills = document.getElementById('newCategorySkills').value.trim();
    
    // Validation
    if (!categoryName || !description || !skills || isNaN(gameCount)) {
        alert('‚ö†Ô∏è Please fill in all required fields!');
        return;
    }
    
    // Check for duplicate
    const exists = gameCategories.some(cat => cat.category.toLowerCase() === categoryName.toLowerCase());
    if (exists) {
        alert('‚ö†Ô∏è This category already exists!');
        return;
    }
    
    // Create new GameCategory object
    const newCategory = new GameCategory(categoryName, gameCount, description, skills);
    
    // Add to gameCategories array
    gameCategories.push(newCategory);
    
    // Refresh table
    displayCategoriesTable();
    
    // Reset form
    document.getElementById('addCategoryForm').reset();
    
    // Show success message
    showAlert(`‚úÖ Category "${categoryName}" added successfully!`, 'success');
    
    console.log(`‚úÖ Added new category: ${categoryName}`);
}

// ===========================================
// 7. SEARCH GAMES 
// ===========================================
function searchGames() {
    const searchTerm = document.getElementById('gameSearchInput').value.trim().toLowerCase();
    const resultsDiv = document.getElementById('searchResults');
    const tableBody = document.getElementById('gamesTableBody');
    
    // If search term is empty
    if (!searchTerm) {
        resultsDiv.innerHTML = '<div class="alert alert-warning">‚ö†Ô∏è Please enter a search term</div>';
        displayGamesTable(); // Show all games
        return;
    }
    
    // Filter games array
    const filteredGames = games.filter(game => 
        game.name.toLowerCase().includes(searchTerm) || 
        game.category.toLowerCase().includes(searchTerm) ||
        game.difficulty.toLowerCase().includes(searchTerm)
    );
    
    // Display search results
    if (filteredGames.length === 0) {
        resultsDiv.innerHTML = `<div class="alert alert-info">‚ÑπÔ∏è No games found for "${searchTerm}"</div>`;
        tableBody.innerHTML = '<tr><td colspan="7" class="text-center text-muted py-4">No matching games found</td></tr>';
    } else {
        resultsDiv.innerHTML = `<div class="alert alert-success">‚úÖ Found ${filteredGames.length} game(s) matching "${searchTerm}"</div>`;
        
        // Display filtered games in table
        tableBody.innerHTML = '';
        filteredGames.forEach((game, index) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><img src="${game.image}" alt="${game.name}" class="table-image" onerror="this.src='images/default-game.jpg'"></td>
                <td><strong>${game.name}</strong></td>
                <td><span class="badge bg-primary">${game.category}</span></td>
                <td><span class="badge bg-info">${game.difficulty}</span></td>
                <td>${game.players}</td>
                <td>‚≠ê ${game.rating}/5</td>
                <td>
                    <button class="btn btn-sm" onclick="playGame('${game.name}')">Play</button>
                </td>
            `;
            tableBody.appendChild(row);
        });
    }
}

// ===========================================
// 8. SEARCH CATEGORIES 
// ===========================================
function searchCategories() {
    const searchTerm = document.getElementById('categorySearchInput').value.trim().toLowerCase();
    const resultsDiv = document.getElementById('categorySearchResults');
    const tableBody = document.getElementById('categoriesTableBody');
    
    // If search term is empty
    if (!searchTerm) {
        resultsDiv.innerHTML = '<div class="alert alert-warning">‚ö†Ô∏è Please enter a search term</div>';
        displayCategoriesTable(); // Show all categories
        return;
    }
    
    // Filter categories array
    const filteredCategories = gameCategories.filter(category => 
        category.category.toLowerCase().includes(searchTerm) || 
        category.skills.toLowerCase().includes(searchTerm) ||
        category.description.toLowerCase().includes(searchTerm)
    );
    
    // Display search results
    if (filteredCategories.length === 0) {
        resultsDiv.innerHTML = `<div class="alert alert-info">‚ÑπÔ∏è No categories found for "${searchTerm}"</div>`;
        tableBody.innerHTML = '<tr><td colspan="4" class="text-center text-muted py-4">No matching categories found</td></tr>';
    } else {
        resultsDiv.innerHTML = `<div class="alert alert-success">‚úÖ Found ${filteredCategories.length} category(ies) matching "${searchTerm}"</div>`;
        
        // Display filtered categories in table
        tableBody.innerHTML = '';
        filteredCategories.forEach(category => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><strong>${category.category}</strong></td>
                <td><span class="badge bg-success">${category.gameCount}</span></td>
                <td>${category.description}</td>
                <td><span class="badge bg-warning text-dark">${category.skills}</span></td>
            `;
            tableBody.appendChild(row);
        });
    }
}

// ===========================================
// 9. CLEAR SEARCH FUNCTIONS
// ===========================================
function clearSearch() {
    document.getElementById('gameSearchInput').value = '';
    document.getElementById('searchResults').innerHTML = '';
    displayGamesTable(); // Reset to show all games
}

function clearCategorySearch() {
    document.getElementById('categorySearchInput').value = '';
    document.getElementById('categorySearchResults').innerHTML = '';
    displayCategoriesTable(); // Reset to show all categories
}

// ===========================================
// 10. HELPER FUNCTIONS
// ===========================================

/**
 * Updates category count when a new game is added
 */
function updateCategoryCount(category) {
    const categoryName = category + " Games";
    const existingCategory = gameCategories.find(cat => cat.category === categoryName);
    
    if (existingCategory) {
        existingCategory.gameCount++;
        console.log(`Updated ${categoryName} count to ${existingCategory.gameCount}`);
    } else {
        const newCategory = new GameCategory(categoryName, 1, `Games in the ${category} category`, "Various skills");
        gameCategories.push(newCategory);
        console.log(`Created new category: ${categoryName}`);
    }
}

/**
 * Simulates playing a game
 */
function playGame(gameName) {
    const gameLinks = {
        "Rock Paper Scissors": "rps.html",
        "Sudoku Challenge": "sudoku.html", 
        "Tic Tac Toe": "tictactoe.html",
        "Brain Quiz": "quiz.html"
    };
    
    if (gameLinks[gameName]) {
        window.location.href = gameLinks[gameName];
    } else {
        showAlert(`üéÆ "${gameName}" - Coming Soon!`, 'info');
    }
}

// ===========================================
// 11. PAGE INITIALIZATION
// ===========================================
function initializePage() {
    console.log('üöÄ Initializing GameDen Dynamic Content System...');
    
    // Display both tables using the two functions (REQUIREMENT c & d)
    displayGamesTable();
    displayCategoriesTable();
    
    // Attach event listeners to forms (REQUIREMENT e-i)
    document.getElementById('addGameForm').addEventListener('submit', addNewGame);
    document.getElementById('addCategoryForm').addEventListener('submit', addNewCategory);
    
    // Allow Enter key to search (REQUIREMENT e-ii)
    document.getElementById('gameSearchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            searchGames();
        }
    });
    
    document.getElementById('categorySearchInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            searchCategories();
        }
    });
    
    console.log('‚úÖ Page initialized successfully!');
    console.log(`üìä Total Games: ${games.length}`);
    console.log(`üìÅ Total Categories: ${gameCategories.length}`);
}

// START - Load when page is ready
document.addEventListener('DOMContentLoaded', initializePage);
</script>
</body>
</html>
